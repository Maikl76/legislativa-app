<h2>Vyhledávání v dokumentech</h2>
<form id="searchForm">
    <input type="text" id="searchQuery" placeholder="Zadejte hledané slovo" required>
    <button type="submit">Hledat</button>
</form>

<div id="searchResults" style="border:1px solid #ccc; padding:10px; margin-top:20px; display:none;">
    <h3>Výsledky hledání:</h3>
    <ul id="resultsList"></ul>
</div>

<script>
document.getElementById("searchForm").addEventListener("submit", function(event) {
    event.preventDefault();
    let query = document.getElementById("searchQuery").value;
    fetch("/search", { method: "POST", body: new URLSearchParams({ query: query }), headers: { "Content-Type": "application/x-www-form-urlencoded" } })
    .then(response => response.json())
    .then(results => {
        let resultsList = document.getElementById("resultsList");
        resultsList.innerHTML = "";
        results.forEach(result => {
            let li = document.createElement("li");
            li.innerHTML = `<b>${result.document}</b> (${result.source}): <br> "${result.text}"`;
            resultsList.appendChild(li);
        });
        document.getElementById("searchResults").style.display = "block";
    });
});
</script>
